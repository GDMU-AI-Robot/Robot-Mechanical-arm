# WiFi 控制嵌入式智能小车

一个低成本的嵌入式机器人小车项目，具备 WiFi 远程控制和实时视频传输功能，采用模块化设计，便于调试和扩展。

## 📌 项目概述

本项目整合了嵌入式控制、WiFi 通信和网页交互技术，打造了一款可通过电脑远程控制的智能小车，适用于中国教育机器人大赛项目。它支持基于键盘的运动控制（WASD 键）和辅助操作（JKL 键），并能从车头视角实时回传视频画面。项目采用通信与运动控制分离的架构。

注：AT89s52开发板的烧录程序，提供教程和步骤。更多的工具详看线下文件。

## 🔧 硬件架构

### 核心组件



| 模块         | 型号 / 规格          | 功能描述                                |
| ---------- | ---------------- | ----------------------------------- |
| 主控制器       | 黑色板（Black Board） | 解析串口指令并驱动舵机，实现小车运动控制                |
| WiFi 与图传模块 | ESP32            | 负责 WiFi 通信（接收控制指令）和实时视频传输           |
| 驱动系统       | 2 个舵机 + 1 个万向轮   | 2 个舵机驱动主动轮实现移动，万向轮辅助平衡与转向调节         |
| 通信接口       | UART（TX/RX 引脚）   | 连接 ESP32 与 Black 板，实现 TSI 格式的数据串口传输 |

### 接线说明

ESP32 TX → Black 板 RX

ESP32 RX → Black 板 TX

舵机 → Black 板 PWM 接口

ESP32 摄像头 → 内置（不用接）

## 💻 软件实现

### 1. ESP32 固件



*   **WiFi 通信**：基于 Arduino 框架建立与电脑的 TCP/UDP 连接，接收网页客户端发送的键盘指令。

*   **视频传输**：通过 WiFi 实现 MJPEG** **流媒体传输，将实时摄像头画面推送至网页界面。

*   **串口协议**：将接收到的网页指令转换为格式数据，通过 UART 发送至 Black 板。

### 2. Black 板代码



*   **指令解析**：解码 ESP32 发送的 TSI 格式串口数据，并映射为舵机控制信号（例如：前进 = 双舵机正向转动）。

*   **电机控制**：采用 PWM 信号调节舵机速度与方向，支持精确的运动控制。

## 🚀 快速上手

### 前置条件



*   硬件：组装完成的小车（含舵机、Black 板、带摄像头的 ESP32、电源）

*   软件：


    *   ESP32 开发环境（Arduino IDE）

    *   Black 板编程（带对应板型支持的 Arduino IDE）

### 安装步骤



1.  **烧录固件**

*   克隆本仓库：`git clone ``https://github.com/``你的用户名/WiFi-Controlled-Embedded-Robot-Car.git`

*   使用 Arduino IDE 将`esp32_firmware/`目录下的固件上传至 ESP32。

*   通过Arduino IDE将`black_board_code/`目录下的代码上传至 Black 板。

1.  **硬件连接**

*   按照接线说明确保所有组件连接正确。

*   为小车供电（使用 两节3.7V 18650锂电池或 USB 电源）。

1.  **运行网页客户端**

*   将电脑连接到 ESP32 创建的 WiFi 网络（SSID：`RobotCar-XXXX`，密码：`12345678`）。

*   在浏览器中打开`web_client/index.html`，或访问`http://192.168.4.1`（ESP32 默认 IP）。

### 控制指南



*   **W**：前进

*   **S**：后退

*   **A**：左转

*   **D**：右转

*   **J/K/L**：机械臂抓夹等

## 📝 功能特点



*   **模块化设计**：ESP32（通信）与 Black 板（控制）分离，便于维护

*   **实时反馈**：15-20fps 视频传输，可以调节帧率

*   **跨平台控制**：基于网页的客户端，支持所有带浏览器的设备

*   **可扩展性**：预留传感器接口（如超声波、红外），支持二次开发避障、循迹等功能

## 🤝 贡献指南

欢迎贡献代码！请 fork 本仓库并提交 pull request，包括但不限于 bug 修复、功能新增或文档改进。

## 📄 开源协议

本项目采用 MIT 许可证 - 详见[LICENSE](LICENSE)文件。
